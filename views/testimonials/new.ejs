<!-- 
  File: /views/testimonials/new.ejs
  Purpose: Form for registered users to submit testimonials with WYSIWYG editor and image upload
  Notes:
  - Full HTML page (optional: could be adapted to layout)
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Submit Testimonial</title>
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
  <script>
    tinymce.init({ selector: '#content' });
  </script>
</head>
<body>
  <h1>Submit a Testimonial</h1>

  <% if (success) { %>
    <p style="color: green;"><%= success %></p>
  <% } %>

  <% if (error) { %>
    <p style="color: red;"><%= error %></p>
  <% } %>

  <form action="/testimonials" method="POST" enctype="multipart/form-data">
    <label for="content">Your Testimonial:</label><br/>
    <textarea id="content" name="content" rows="10" cols="50" required></textarea><br/><br/>

    <label for="image">Upload an image:</label><br/>
    <input type="file" name="image" accept="image/*" /><br/><br/>

    <button type="submit">Submit</button>
  </form>
</body>
</html>
